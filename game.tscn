[gd_scene load_steps=14 format=3 uid="uid://b18jjbobcv68o"]

[ext_resource type="Script" uid="uid://bkueuohdyhj7q" path="res://player.gd" id="1_feb5d"]
[ext_resource type="Script" uid="uid://cn6ulq2sbejg7" path="res://game.gd" id="1_ryrav"]
[ext_resource type="Script" uid="uid://dge7pqo288vcw" path="res://ceiling.gd" id="2_7jktm"]
[ext_resource type="AudioStream" path="res://explosion.mp3" id="3_hve3p"]
[ext_resource type="Script" uid="uid://bf2wrtan650he" path="res://floor.gd" id="3_ryrav"]
[ext_resource type="PackedScene" uid="uid://bm6otxrfdubws" path="res://obstacle.tscn" id="5_spawner"]
[ext_resource type="Script" uid="uid://dnt5rmjfeyeaf" path="res://obstacle_spawner.gd" id="6_spawner"]
[ext_resource type="Script" uid="uid://bn341nfm3crix" path="res://game_manager.gd" id="7_manager"]
[ext_resource type="PackedScene" path="res://multiplier.tscn" id="7_mult"]
[ext_resource type="AudioStream" path="res://power-up.mp3" id="8_mult_sound"]
[ext_resource type="PackedScene" uid="uid://dqw8x7y605t4u" path="res://start_screen.tscn" id="8_start"]
[ext_resource type="PackedScene" uid="uid://dav8w7x6y504t" path="res://game_over_screen.tscn" id="9_gameover"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_y32ns"]
size = Vector2(40, 40)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7jktm"]
size = Vector2(1200, 40)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ryrav"]
size = Vector2(1200, 40)

[node name="Game" type="Node2D"]
script = ExtResource("1_ryrav")

[node name="Background" type="ColorRect" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.9, 0.9, 0.9, 1)

[node name="GameManager" type="Node" parent="."]
script = ExtResource("7_manager")
game_over_sound = ExtResource("3_hve3p")
multiplier_sound = ExtResource("8_mult_sound")

[node name="Camera" type="Camera2D" parent="."]
position = Vector2(600, 300)

[node name="Player" type="CharacterBody2D" parent="."]
position = Vector2(600, 300)
script = ExtResource("1_feb5d")

[node name="ShipVisual" type="Polygon2D" parent="Player"]
color = Color(0.6, 0.6, 1, 1)
polygon = PackedVector2Array(40, 20, 0, 5, 12, 20, 0, 35)

[node name="ShipOutline" type="Line2D" parent="Player"]
points = PackedVector2Array(40, 20, 0, 5, 12, 20, 0, 35, 40, 20)
width = 2.0
default_color = Color(0.2, 0.2, 0.5, 1)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
position = Vector2(20, 20)
shape = SubResource("RectangleShape2D_y32ns")

[node name="Ceiling" type="StaticBody2D" parent="."]
script = ExtResource("2_7jktm")

[node name="ColorRect" type="ColorRect" parent="Ceiling"]
offset_right = 1200.0
offset_bottom = 40.0
color = Color(0.2, 0.2, 0.2, 1)

[node name="Border" type="Line2D" parent="Ceiling"]
points = PackedVector2Array(0, 40, 1200, 40)
width = 2.0
default_color = Color(0.05, 0.05, 0.05, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ceiling"]
position = Vector2(600, 20)
shape = SubResource("RectangleShape2D_7jktm")

[node name="Floor" type="StaticBody2D" parent="."]
position = Vector2(0, 560)
script = ExtResource("3_ryrav")

[node name="ColorRect" type="ColorRect" parent="Floor"]
offset_right = 1200.0
offset_bottom = 40.0
color = Color(0.2, 0.2, 0.2, 1)

[node name="Border" type="Line2D" parent="Floor"]
points = PackedVector2Array(0, 0, 1200, 0)
width = 2.0
default_color = Color(0.05, 0.05, 0.05, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor"]
position = Vector2(600, 20)
shape = SubResource("RectangleShape2D_ryrav")

[node name="ObstacleSpawner" type="Node2D" parent="."]
script = ExtResource("6_spawner")
obstacle_scene = ExtResource("5_spawner")
multiplier_scene = ExtResource("7_mult")
spawn_interval = 1.0
spawn_x_position = 1200.0
difficulty_increase_interval = 5.0

[node name="StartScreen" parent="." instance=ExtResource("8_start")]

[node name="GameOverScreen" parent="." instance=ExtResource("9_gameover")]

[node name="HUD" type="CanvasLayer" parent="."]
layer = 100

[node name="ScoreLabel" type="Label" parent="HUD"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -240.0
offset_top = 2.0
offset_right = -10.0
offset_bottom = 36.0
grow_horizontal = 0
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_font_sizes/font_size = 24
text = "Score: 0"
horizontal_alignment = 2
